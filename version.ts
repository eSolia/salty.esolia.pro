/**
 * Version information for Salty
 * Generated by Nagare on 2025-07-06T13:05:02.844Z
 *
 * Note: This template generates TypeScript code, not HTML.
 * The |> safe filter is used to output raw values without escaping.
 */

export const VERSION = "2.3.0";

export const BUILD_INFO = {
  buildDate: "2025-07-06T13:05:02.844Z",
  gitCommit: "0a01835",
  buildEnvironment: "production",
  versionComponents: {
    major: 2,
    minor: 3,
    patch: 0,
    prerelease: null,
  },
} as const;

export const APP_INFO = {
  name: "Salty",
  description: "Browser-Native Secure Text Encryption",
  repository: "https://github.com/esolia/salty.esolia.pro",
  author: "Rick Cogley, eSolia Inc.",
  homepage: "https://salty.esolia.pro",
  license: "MIT",
} as const;
export const APP_METADATA = {} as const;
export const RELEASE_NOTES = {
  "version": "2.3.0",
  "date": "2025-07-06",
  "added": [
    "add Cloudflare Worker proxy support for dbFLEX (bc3c21b)",
    "add dbFLEX link tracking integration (8cb88b8)",
    "switch to native OpenTelemetry for Deno Deploy EA (fa5af24)",
    "integrate Claude Forge Shape Up methodology (944e78b)",
    "add security headers and OWASP compliance display to dashboard (032a5e0)",
    "add protected admin dashboard at /dash with HTTP Basic Auth (ad84747)",
    "add Deno 2.4 security enhancements (pending Deploy EA support) (1ac4549)",
  ],
  "changed": [
    "reorganize project structure for better clarity (0a01835)",
    "relocate Shape Up artifacts to .claude/artifacts directory (660a786)",
    "complete dbFLEX tracking documentation and add change summary (78d4fc2)",
    "organize project file structure for better maintainability (76fb62f)",
    "add test coverage summary for Deno 2.4 features (107b9f4)",
    "add comprehensive test coverage for Deno 2.4 features (1364b1e)",
  ],
  "deprecated": [],
  "removed": [],
  "fixed": [
    "resolve test failures in CI (2ab7ffb)",
    "address security code scanning alerts (41e7bcd)",
    "add shared secret authentication for Cloudflare proxy (3a99c44)",
    "allow proxy mode without all dbFLEX config variables (e23b4ba)",
    "add detailed error logging for dbFLEX API calls (085e037)",
    "correct rate limiting display format in dashboard (2181bd7)",
    "resolve multiple dashboard issues and improve request timing (1455d6d)",
    "add dashboard.html to allowed static files for /dash route (52a204f)",
    "resolve lint and type errors in Deno 2.4 merged code (a4e1084)",
    "replace console.log with proper logger calls (26dc378)",
  ],
  "security": [],
} as const;

// Additional exports configured in nagare.config.ts

/** Tech specifications used by the application */
export const TECH_SPECS = {
  "platform": "Deno Deploy",
  "runtime": "Deno",
  "cryptoFeatures": [
    "AES-GCM-256 encryption",
    "PBKDF2-SHA512 key derivation",
    "600,000 iterations",
    "basE91 encoding",
    "Web Crypto API",
  ],
  "securityFeatures": [
    "Rate limiting",
    "Input validation",
    "Security headers",
    "API authentication",
    "Request size limits",
    "Structured logging",
    "Security event tracking",
  ],
  "endpoints": [
    {
      "path": "/",
      "description": "Japanese UI",
    },
    {
      "path": "/en/",
      "description": "English UI",
    },
    {
      "path": "/api/encrypt",
      "method": "POST",
      "description": "Encrypt endpoint",
    },
    {
      "path": "/api/decrypt",
      "method": "POST",
      "description": "Decrypt endpoint",
    },
    {
      "path": "/health",
      "method": "GET",
      "description": "Health check endpoint",
    },
  ],
} as const;

/** Security information for the application */
export const SECURITY_INFO = {
  "rateLimiting": {
    "window": "1 hour",
    "maxRequests": 20,
  },
  "maxPayloadSize": "1MB",
  "maxKeySize": "1KB",
  "securityHeaders": [
    "Content-Security-Policy",
    "Strict-Transport-Security",
    "X-Content-Type-Options",
    "X-Frame-Options",
    "X-XSS-Protection",
    "Referrer-Policy",
  ],
} as const;

/** Security compliance and standards information */
export const SECURITY_COMPLIANCE = {
  "standards": {
    "owasp": {
      "a01_brokenAccessControl": "N/A - No user authentication system",
      "a02_cryptographicFailures":
        "AES-256-GCM with PBKDF2-SHA512 (600k iterations)",
      "a03_injection": "Input validation and sanitization on all endpoints",
      "a04_insecureDesign": "Security-first design with rate limiting",
      "a05_securityMisconfiguration":
        "Secure headers, strict CSP, HSTS enabled",
      "a06_vulnerableComponents": "Regular Deno and dependency updates",
      "a07_authFailures": "API key authentication for sensitive endpoints",
      "a08_dataIntegrityFailures": "HMAC validation in encrypted payloads",
      "a09_loggingFailures": "Structured logging with security events",
      "a10_ssrf": "N/A - No external requests from user input",
    },
  },
  "lastSecurityReview": "BUILD_INFO.buildDate",
  "encryptionDetails": {
    "algorithm": "AES-GCM",
    "keySize": 256,
    "keyDerivation": "PBKDF2-SHA512",
    "iterations": 600000,
    "saltSize": 16,
    "ivSize": 12,
    "tagSize": 16,
  },
} as const;

/** Version utility class */
export class VersionUtils {
  static getExtendedVersion(): string {
    return `${VERSION} (Built: ${BUILD_INFO.buildDate})`;
  }

  static getDetailedInfo() {
    return {
      version: VERSION,
      build: BUILD_INFO,
      app: APP_INFO,
      specs: TECH_SPECS,
      security: SECURITY_INFO,
      compliance: SECURITY_COMPLIANCE,
    };
  }

  static isPrerelease(): boolean {
    return BUILD_INFO.versionComponents.prerelease !== null;
  }

  static getReleaseType(): string {
    if (this.isPrerelease()) {
      return "prerelease";
    }
    return "stable";
  }
}
